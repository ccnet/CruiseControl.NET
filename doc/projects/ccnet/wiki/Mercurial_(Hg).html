<!doctype html>
<html lang="en">

<!-- Mirrored from www.cruisecontrolnet.org/projects/ccnet/wiki/Mercurial_(Hg) by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 01 Sep 2013 07:36:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<title>CruiseControl.NET - Mercurial (Hg) - CruiseControl.NET</title>
<meta name="description" content="ChiliProject" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="lppizRP5BY2snLg9SPsQMwHpmX1YZgA1JpRnRNpo4J8="/>
<link rel='shortcut icon' href='http://www.cruisecontrolnet.org/favicon.ico?1360787056' />
<link href="../../../stylesheets/reseta77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/smoothness/jquery-uia77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/applicationa77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/printa77a.css?1360787056" media="print" rel="stylesheet" type="text/css" />

<!--[if lte IE 6]><link href="/stylesheets/ie6.css?1360787056" media="all" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 7]><link href="/stylesheets/ie7.css?1360787056" media="all" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if gte IE 8]><![endif]-->

<script src="../../../javascripts/jquery.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/jquery-ui.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/jquery.menu_expanda77a.js?1360787056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
jQuery.noConflict();
//]]>
</script>
<script src="../../../javascripts/modernizr.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/prototypea77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/effectsa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/dragdropa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/controlsa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/applicationa77a.js?1360787056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script><script type="text/javascript">
//<![CDATA[
var datepickerSettings = {showOn: 'both', buttonImage: '/images/calendar.png?1360787056', buttonImageOnly: true, showButtonPanel: true, dateFormat: 'yy-mm-dd' }
//]]>
</script>
<link href="../../../stylesheets/jstoolbara77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" />


<link href="../../../plugin_assets/redmine_ads/stylesheets/redmine_adsb58c.css?1361628765" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="../../../stylesheets/scma77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://www.cruisecontrolnet.org/projects/ccnet/activity.atom?show_wiki_edits=1" rel="alternate" title="ATOM" type="application/atom+xml" />
<script src="../../../javascripts/jstoolbar/jstoolbara77a.js?1360787056" type="text/javascript"></script><script src="../../../javascripts/jstoolbar/textilea77a.js?1360787056" type="text/javascript"></script><script src="../../../javascripts/jstoolbar/lang/jstoolbar-ena77a.js?1360787056" type="text/javascript"></script><link href="../../../stylesheets/jstoolbara77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" /></head>
<body class="project-1 controller-wiki action-show">
<div id="wrapper">
  <div id="top-menu">
    <div id="header">
      <div id="logo"><a href="http://www.cruisecontrolnet.org/">CruiseControl.NET</a></div>
      <div id="top-menu-items">
      
      <div id="search">
                <label class="hidden-for-sighted" for="q">Search</label>
        <form action="http://www.cruisecontrolnet.org/search/index/ccnet" method="get">
          <input name="wiki_pages" type="hidden" value="1" />
          <input accesskey="f" class="search_field" id="q" name="q" placeholder="search ..." size="20" type="text" />
        </form>

      </div>
      

      <ul id="account-nav">
        
        
            <li><a href="http://www.cruisecontrolnet.org/" class="home">Home</a></li>
        
        <li class="drop-down">
          <a href="http://www.cruisecontrolnet.org/projects" class="projects">Projects</a>
          <ul style="display:none;">
            <li><a href="http://www.cruisecontrolnet.org/projects" class="projects separator">All Projects</a></li>
            
            
          </ul>
        </li>
        
        <li><a href="https://www.chiliproject.org/help/v3" class="help">?</a></li>
        
          
            
            <li>
              <a href="http://www.cruisecontrolnet.org/account/register">Register</a>
            </li>
            
            <li id="login-menu" class="drop-down last-child">
              <a href="http://www.cruisecontrolnet.org/login" class="login">Sign in</a>
              <div id="nav-login" style="display:none;">
                <div id="nav-login-content">
  <form action="http://www.cruisecontrolnet.org/login" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="lppizRP5BY2snLg9SPsQMwHpmX1YZgA1JpRnRNpo4J8=" /></div>
    <input name="back_url" type="hidden" value="http%3A%2F%2Fwww.cruisecontrolnet.org%2Fprojects%2Fccnet%2Fwiki%2FMercurial_%28Hg%29" />
    <table>
      <tr>
        <td><label for="username-pulldown">Login</label></td>
        <td><label for="password-pulldown">Password</label></td>
        <td></td>
      </tr>
      <tr>
        <td><input id="username-pulldown" name="username" tabindex="1" type="text" /></td>
        <td><input id="password-pulldown" name="password" tabindex="1" type="password" /></td>
        <td><input type="submit" name="login" value="Login" tabindex="1"/></td>
      </tr>
    </table>
    <div id = "optional_login_fields" style = "top = 10px; white-space:nowrap">
      
        <input id="openid_url" name="openid_url" placeholder="OpenID URL" tabindex="1" type="text" />
      

      
        <label for="autologin"><input id="autologin" name="autologin" tabindex="1" type="checkbox" value="1" /> Stay logged in</label>
      

      
        <a href="http://www.cruisecontrolnet.org/account/lost_password" tabindex="1">Lost password</a>
      

      
        |
         <a href="http://www.cruisecontrolnet.org/account/register" tabindex="1">Register</a>
      
    </div>
  </form>
</div>

              </div>
            </li>
          
      </ul>
    </div>
    </div>
    <div id="breadcrumb">
      CruiseControl.NET
    </div>
  </div>

  
  
  
  
  <div id="main" class="">
    
      <div id="side-container">
        <div id="main-menu">
          <ul><li><a href="http://www.cruisecontrolnet.org/projects/ccnet" class="overview">Overview</a></li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/activity" class="activity">Activity</a></li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/roadmap" class="roadmap">Roadmap</a>
<ul class="menu-children unattached"><li><a href="../versions/11.html" class="version-11">1.8.5</a></li><li><a href="../versions/5.html" class="version-5">1.9</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/issues" class="issues">Issues</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/new" accesskey="7" class="new-issue">New issue</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues?set_filter=1" class="all-open-issues">View all open issues</a></li><li><a href="http://www.cruisecontrolnet.org/queries/new?project_id=ccnet" class="new-query">New saved query</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/report" class="issue-summary">Issue summary</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries" class="time-entries">Time entries</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries/new" class="new-time-entry">New time entry</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries/report" class="time-entry-report">Time entry report</a></li></ul>
</li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/gantt" class="gantt">Gantt</a></li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/calendar" class="calendar">Calendar</a></li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/news" class="news">News</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/news/new" class="new-news">Add news</a></li></ul>
</li>
<li>
<a href="../documents.html" class="documents">Documents</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/login?back_url=http%3A%2F%2Fwww.cruisecontrolnet.org%2Fprojects%2Fccnet%2Fdocuments%2Fnew" class="new-document">New document</a></li></ul>
</li>
<li>
<a href="../wiki.html" class="wiki selected">Wiki</a>
<ul class="menu-children"><li><a href="index.html" class="wiki-by-title">Index by title</a></li><li><a href="date_index.html" class="wiki-by-date">Index by date</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/boards" class="boards">Forums</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/new" class="new-board">New forum</a></li></ul>
<ul class="menu-children unattached"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/1" class="board-1">General Discussion</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/2" class="board-2">Help</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/3" class="board-3">Coding</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/files" class="files">Files</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/files/new" class="new-file">New file</a></li></ul>
</li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/repository" class="repository">Repository</a></li></ul>
          
        </div>

      
        <!-- Sidebar -->
        <div id="sidebar">
          
  
<h3>Wiki</h3>

<a href="../wiki.html">Start page</a><br />
<a href="index.html">Index by title</a><br />
<a href="date_index.html">Index by date</a><br />


  


          <div class="redmine_ads"><script type="text/javascript">
window.google_analytics_uacct = "UA-371146-15";
</script>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8921736128672887";
/* www.cruisecontrolnet.org */
google_ad_slot = "1762967545";
google_ad_width = 120;
google_ad_height = 240;
//-->
</script>
<script type="text/javascript"
src="../../../pagead/show_ads.js">
</script></div>
        </div>
      
      </div>

      <script type="text/javascript">
//<![CDATA[
jQuery.menu_expand({ menuItem: '.wiki' });
//]]>
</script>
    
    <div class="" id="content">
      
      <div class="contextual">









<a href="http://www.cruisecontrolnet.org/projects/ccnet/wiki/Mercurial_(Hg)/history" class="icon icon-history">History</a>
</div>

<p class="breadcrumb"><a href="Wiki.html">Wiki</a> &#187; <a href="Configuration.html">Configuration</a> &#187; <a href="ConfiguringTheServer.html">ConfiguringTheServer</a> &#187; <a href="Project_Configuration_Block.html">Project Configuration Block</a> &#187; <a href="Source_Control_Blocks.html">Source Control Blocks</a> &#187; </p>



<div class="wiki">
  <a name="Mercurial-Source-Control-Block"></a>
<h1 > Mercurial Source Control Block<a href="#Mercurial-Source-Control-Block" class="wiki-anchor">&para;</a></h1>


	<p>Provides support for Mercurial repositories. Checking for changes, checking out or updating sources, committing build modifications and untracked files, tagging, pushing to the remote repository, reverting modifications and purging untracked and ignored files are supported.</p>


	<a name="Version"></a>
<h2 >Version<a href="#Version" class="wiki-anchor">&para;</a></h2>


	<p>Available from version 1.5</p>


	<a name="Examples"></a>
<h2 >Examples<a href="#Examples" class="wiki-anchor">&para;</a></h2>


<pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="tag">&lt;sourcecontrol</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">hg</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>  <span class="tag">&lt;workingDirectory&gt;</span>c:\dev\ccnet\myproject<span class="tag">&lt;/workingDirectory&gt;</span>
<span class="line-numbers"> 3</span>  <span class="tag">&lt;timeout&gt;</span>60000<span class="tag">&lt;/timeout&gt;</span>
<span class="line-numbers"> 4</span>  <span class="tag">&lt;repo&gt;</span>http://hg.mycompany.com/hgwebdir.cgi/myproject/<span class="tag">&lt;/repo&gt;</span>
<span class="line-numbers"> 5</span>  <span class="tag">&lt;branch&gt;</span>trunk<span class="tag">&lt;/branch&gt;</span>
<span class="line-numbers"> 6</span>  <span class="tag">&lt;multipleHeadsFail&gt;</span>true<span class="tag">&lt;/multipleHeadsFail&gt;</span>
<span class="line-numbers"> 7</span>  <span class="tag">&lt;tagOnSuccess&gt;</span>true<span class="tag">&lt;/tagOnSuccess&gt;</span>
<span class="line-numbers"> 8</span>  <span class="tag">&lt;commitModifications&gt;</span>true<span class="tag">&lt;/commitModifications&gt;</span>
<span class="line-numbers"> 9</span>  <span class="tag">&lt;commitUntracked&gt;</span>true<span class="tag">&lt;/commitUntracked&gt;</span>
<span class="line-numbers"><strong>10</strong></span>  <span class="tag">&lt;purgeModifications&gt;</span>true<span class="tag">&lt;/purgeModifications&gt;</span>
<span class="line-numbers">11</span>  <span class="tag">&lt;revertModifications&gt;</span>true<span class="tag">&lt;/revertModifications&gt;</span>
<span class="line-numbers">12</span>  <span class="tag">&lt;tagCommitMessage&gt;</span>Tagging CC.NET build {0}<span class="tag">&lt;/tagCommitMessage&gt;</span>
<span class="line-numbers">13</span>  <span class="tag">&lt;modificationsCommitMessage&gt;</span>Modifications of CC.NET build {0}<span class="tag">&lt;/modificationsCommitMessage&gt;</span>
<span class="line-numbers">14</span>  <span class="tag">&lt;tagNameFormat&gt;</span>ccnet_build_{0}<span class="tag">&lt;/tagNameFormat&gt;</span>
<span class="line-numbers">15</span>  <span class="tag">&lt;committerName&gt;</span>CruiseControl.NET<span class="tag">&lt;/committerName&gt;</span>
<span class="line-numbers">16</span><span class="tag">&lt;/sourcecontrol&gt;</span></span></code></pre>

	<a name="Configuration-Elements"></a>
<h2 >Configuration Elements<a href="#Configuration-Elements" class="wiki-anchor">&para;</a></h2>


	<table>
		<tr>
			<td> <strong>Element</strong> </td>
			<td> <strong>Description</strong> </td>
			<td> <strong>Type</strong> </td>
			<td> <strong>Required</strong> </td>
			<td> <strong>Default</strong> </td>
			<td> <strong>Version</strong> </td>
		</tr>
		<tr>
			<td> type </td>
			<td> The type of source control block. </td>
			<td> String - must be hg </td>
			<td> Yes </td>
			<td> <em>n/a</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> autoGetSource </td>
			<td> Whether to update the local working copy from the local repository for a particular build.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> true </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> branch </td>
			<td> Repository branch.   </td>
			<td> String </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> commitModifications </td>
			<td> Whether to commit build modifications.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> committerName </td>
			<td> User name used for commits.   </td>
			<td> String </td>
			<td> No </td>
			<td> CruiseControl.NET </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> commitUntracked </td>
			<td> Whether to commit untracked and removed files along with build modifications.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> dynamicValues </td>
			<td> The dynamic values to use for the source control block.   </td>
			<td> <a href="Dynamic_Values.html" class="wiki-page">Dynamic Values</a> array </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> executable </td>
			<td> The location of the hg executable.   </td>
			<td> String </td>
			<td> No </td>
			<td> hg </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> issueUrlBuilder </td>
			<td> Converts the comment (or parts from it) into an url pointing to the issue for this build. See <a href="IssueUrlBuilder.html" class="wiki-page">IssueUrlBuilder</a> for more details.   </td>
			<td> <a href="IssueUrlBuilder.html" class="wiki-page">IssueUrlBuilder</a> </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 15 </td>
		</tr>
		<tr>
			<td> modificationsCommitMessage </td>
			<td> Log message used when committing build modifications.   </td>
			<td> String </td>
			<td> No </td>
			<td> Modifications of CC.NET build \{0\} </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> multipleHeadsFail </td>
			<td> Whether the source control operation should fail if multiple heads exist in the repository.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> purgeModifications </td>
			<td> Whether to purge untracked and ignored files before building.  <br />The hg purge extension is activated and used for this feature. </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> pushModifications </td>
			<td> Whether to push modifications to the remote repository.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> repo </td>
			<td> The url for your repository (e.g., <a class="external" href="http://hgserver/myproject/">http://hgserver/myproject/</a>).  <br />This ReflectorProperty should really be named repository but is currently kept as repo for backwards compatibility </td>
			<td> String </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> revertModifications </td>
			<td> Whether to revert modifications in tracked files before building.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> tagCommitMessage </td>
			<td> Log message format to be used for the tag commits.   </td>
			<td> String </td>
			<td> No </td>
			<td> Tagging CC.NET build \{0\} </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> tagNameFormat </td>
			<td> String format for tags in your repository.   </td>
			<td> String </td>
			<td> No </td>
			<td> ccnet_build_\{0\} </td>
			<td> 1.6 </td>
		</tr>
		<tr>
			<td> tagOnSuccess </td>
			<td> Indicates that the repository should be tagged if the build succeeds.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> false </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> timeout </td>
			<td> Sets the timeout period for the source control operation. See <a href="Timeout_Configuration.html" class="wiki-page">Timeout Configuration</a> for details.   </td>
			<td> <a href="Timeout_Configuration.html" class="wiki-page">Timeout Configuration</a> </td>
			<td> No </td>
			<td> 10 minutes </td>
			<td> 15 </td>
		</tr>
		<tr>
			<td> webUrlBuilder </td>
			<td> Generates a web URL.   </td>
			<td> <a href="IssueUrlBuilder.html" class="wiki-page">IssueUrlBuilder</a> </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> workingDirectory </td>
			<td> The directory containing the locally checked out workspace.   </td>
			<td> String </td>
			<td> No </td>
			<td> Project Working Directory </td>
			<td> 1.5 </td>
		</tr>
	</table>




	<a name="Notes"></a>
<h2 >Notes<a href="#Notes" class="wiki-anchor">&para;</a></h2>


	<p>You need to make sure your hg client settings are such that all authentication is automated. Typically you can do this by using anonymous access or appropriate SSH setups if using hg over SSH.</p>


	<p>You can link the modifications detected by CruiseControl.NET to the appropriate hgweb page by adding the following additional configuration information to the Mercurial source control section by using the <a href="Mercurial_Issue_Tracker_URL_Builder.html" class="wiki-page new">Mercurial Issue Tracker URL Builder</a>.</p>


	<p>External contributors: Bill Barry (initial version), Aaron Jensen (new history parser)</p>


	<a name="Automatically-Generated"></a>
<h4 >Automatically Generated<a href="#Automatically-Generated" class="wiki-anchor">&para;</a></h4>


	<p>Documentation generated on Sunday, 1 Sep 2013 at 7:07:18 AM</p>
</div>














      
      <div style="clear:both;">&nbsp;</div>
    </div>
  </div>

  <div id="footer">
    <div class="bgl"><div class="bgr">
        Powered by <a href="https://www.chiliproject.org/">ChiliProject</a>
      </div></div>
  </div>

  <div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
  <div id="dialog-window" style="display:none;"></div>

</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-371146-15']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>

<!-- Mirrored from www.cruisecontrolnet.org/projects/ccnet/wiki/Mercurial_(Hg) by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 01 Sep 2013 07:36:43 GMT -->
</html>
