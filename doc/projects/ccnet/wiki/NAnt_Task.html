<!doctype html>
<html lang="en">

<!-- Mirrored from www.cruisecontrolnet.org/projects/ccnet/wiki/NAnt_Task by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 01 Sep 2013 07:36:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8" />
<title>CruiseControl.NET - NAnt Task - CruiseControl.NET</title>
<meta name="description" content="ChiliProject" />
<meta name="keywords" content="issue,bug,tracker" />
<meta name="csrf-param" content="authenticity_token"/>
<meta name="csrf-token" content="lppizRP5BY2snLg9SPsQMwHpmX1YZgA1JpRnRNpo4J8="/>
<link rel='shortcut icon' href='http://www.cruisecontrolnet.org/favicon.ico?1360787056' />
<link href="../../../stylesheets/reseta77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/smoothness/jquery-uia77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/applicationa77a.css?1360787056" media="all" rel="stylesheet" type="text/css" />
<link href="../../../stylesheets/printa77a.css?1360787056" media="print" rel="stylesheet" type="text/css" />

<!--[if lte IE 6]><link href="/stylesheets/ie6.css?1360787056" media="all" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if lte IE 7]><link href="/stylesheets/ie7.css?1360787056" media="all" rel="stylesheet" type="text/css" /><![endif]-->
<!--[if gte IE 8]><![endif]-->

<script src="../../../javascripts/jquery.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/jquery-ui.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/jquery.menu_expanda77a.js?1360787056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
jQuery.noConflict();
//]]>
</script>
<script src="../../../javascripts/modernizr.mina77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/prototypea77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/effectsa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/dragdropa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/controlsa77a.js?1360787056" type="text/javascript"></script>
<script src="../../../javascripts/applicationa77a.js?1360787056" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
Event.observe(window, 'load', function(){ new WarnLeavingUnsaved('The current page contains unsaved text that will be lost if you leave this page.'); });
//]]>
</script><script type="text/javascript">
//<![CDATA[
var datepickerSettings = {showOn: 'both', buttonImage: '/images/calendar.png?1360787056', buttonImageOnly: true, showButtonPanel: true, dateFormat: 'yy-mm-dd' }
//]]>
</script>
<link href="../../../stylesheets/jstoolbara77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" />


<link href="../../../plugin_assets/redmine_ads/stylesheets/redmine_adsb58c.css?1361628765" media="screen" rel="stylesheet" type="text/css" />
<!-- page specific tags -->

  <link href="../../../stylesheets/scma77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" />
  <link href="http://www.cruisecontrolnet.org/projects/ccnet/activity.atom?show_wiki_edits=1" rel="alternate" title="ATOM" type="application/atom+xml" />
<script src="../../../javascripts/jstoolbar/jstoolbara77a.js?1360787056" type="text/javascript"></script><script src="../../../javascripts/jstoolbar/textilea77a.js?1360787056" type="text/javascript"></script><script src="../../../javascripts/jstoolbar/lang/jstoolbar-ena77a.js?1360787056" type="text/javascript"></script><link href="../../../stylesheets/jstoolbara77a.css?1360787056" media="screen" rel="stylesheet" type="text/css" /></head>
<body class="project-1 controller-wiki action-show">
<div id="wrapper">
  <div id="top-menu">
    <div id="header">
      <div id="logo"><a href="http://www.cruisecontrolnet.org/">CruiseControl.NET</a></div>
      <div id="top-menu-items">
      
      <div id="search">
                <label class="hidden-for-sighted" for="q">Search</label>
        <form action="http://www.cruisecontrolnet.org/search/index/ccnet" method="get">
          <input name="wiki_pages" type="hidden" value="1" />
          <input accesskey="f" class="search_field" id="q" name="q" placeholder="search ..." size="20" type="text" />
        </form>

      </div>
      

      <ul id="account-nav">
        
        
            <li><a href="http://www.cruisecontrolnet.org/" class="home">Home</a></li>
        
        <li class="drop-down">
          <a href="http://www.cruisecontrolnet.org/projects" class="projects">Projects</a>
          <ul style="display:none;">
            <li><a href="http://www.cruisecontrolnet.org/projects" class="projects separator">All Projects</a></li>
            
            
          </ul>
        </li>
        
        <li><a href="https://www.chiliproject.org/help/v3" class="help">?</a></li>
        
          
            
            <li>
              <a href="http://www.cruisecontrolnet.org/account/register">Register</a>
            </li>
            
            <li id="login-menu" class="drop-down last-child">
              <a href="http://www.cruisecontrolnet.org/login" class="login">Sign in</a>
              <div id="nav-login" style="display:none;">
                <div id="nav-login-content">
  <form action="http://www.cruisecontrolnet.org/login" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="lppizRP5BY2snLg9SPsQMwHpmX1YZgA1JpRnRNpo4J8=" /></div>
    <input name="back_url" type="hidden" value="http%3A%2F%2Fwww.cruisecontrolnet.org%2Fprojects%2Fccnet%2Fwiki%2FNAnt_Task" />
    <table>
      <tr>
        <td><label for="username-pulldown">Login</label></td>
        <td><label for="password-pulldown">Password</label></td>
        <td></td>
      </tr>
      <tr>
        <td><input id="username-pulldown" name="username" tabindex="1" type="text" /></td>
        <td><input id="password-pulldown" name="password" tabindex="1" type="password" /></td>
        <td><input type="submit" name="login" value="Login" tabindex="1"/></td>
      </tr>
    </table>
    <div id = "optional_login_fields" style = "top = 10px; white-space:nowrap">
      
        <input id="openid_url" name="openid_url" placeholder="OpenID URL" tabindex="1" type="text" />
      

      
        <label for="autologin"><input id="autologin" name="autologin" tabindex="1" type="checkbox" value="1" /> Stay logged in</label>
      

      
        <a href="http://www.cruisecontrolnet.org/account/lost_password" tabindex="1">Lost password</a>
      

      
        |
         <a href="http://www.cruisecontrolnet.org/account/register" tabindex="1">Register</a>
      
    </div>
  </form>
</div>

              </div>
            </li>
          
      </ul>
    </div>
    </div>
    <div id="breadcrumb">
      CruiseControl.NET
    </div>
  </div>

  
  
  
  
  <div id="main" class="">
    
      <div id="side-container">
        <div id="main-menu">
          <ul><li><a href="http://www.cruisecontrolnet.org/projects/ccnet" class="overview">Overview</a></li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/activity" class="activity">Activity</a></li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/roadmap" class="roadmap">Roadmap</a>
<ul class="menu-children unattached"><li><a href="../versions/11.html" class="version-11">1.8.5</a></li><li><a href="../versions/5.html" class="version-5">1.9</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/issues" class="issues">Issues</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/new" accesskey="7" class="new-issue">New issue</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues?set_filter=1" class="all-open-issues">View all open issues</a></li><li><a href="http://www.cruisecontrolnet.org/queries/new?project_id=ccnet" class="new-query">New saved query</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/report" class="issue-summary">Issue summary</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries" class="time-entries">Time entries</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries/new" class="new-time-entry">New time entry</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/time_entries/report" class="time-entry-report">Time entry report</a></li></ul>
</li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/gantt" class="gantt">Gantt</a></li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/issues/calendar" class="calendar">Calendar</a></li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/news" class="news">News</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/news/new" class="new-news">Add news</a></li></ul>
</li>
<li>
<a href="../documents.html" class="documents">Documents</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/login?back_url=http%3A%2F%2Fwww.cruisecontrolnet.org%2Fprojects%2Fccnet%2Fdocuments%2Fnew" class="new-document">New document</a></li></ul>
</li>
<li>
<a href="../wiki.html" class="wiki selected">Wiki</a>
<ul class="menu-children"><li><a href="index.html" class="wiki-by-title">Index by title</a></li><li><a href="date_index.html" class="wiki-by-date">Index by date</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/boards" class="boards">Forums</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/new" class="new-board">New forum</a></li></ul>
<ul class="menu-children unattached"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/1" class="board-1">General Discussion</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/2" class="board-2">Help</a></li><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/boards/3" class="board-3">Coding</a></li></ul>
</li>
<li>
<a href="http://www.cruisecontrolnet.org/projects/ccnet/files" class="files">Files</a>
<ul class="menu-children"><li><a href="http://www.cruisecontrolnet.org/projects/ccnet/files/new" class="new-file">New file</a></li></ul>
</li>
<li><a href="http://www.cruisecontrolnet.org/projects/ccnet/repository" class="repository">Repository</a></li></ul>
          
        </div>

      
        <!-- Sidebar -->
        <div id="sidebar">
          
  
<h3>Wiki</h3>

<a href="../wiki.html">Start page</a><br />
<a href="index.html">Index by title</a><br />
<a href="date_index.html">Index by date</a><br />


  


          <div class="redmine_ads"><script type="text/javascript">
window.google_analytics_uacct = "UA-371146-15";
</script>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8921736128672887";
/* www.cruisecontrolnet.org */
google_ad_slot = "1762967545";
google_ad_width = 120;
google_ad_height = 240;
//-->
</script>
<script type="text/javascript"
src="../../../pagead/show_ads.js">
</script></div>
        </div>
      
      </div>

      <script type="text/javascript">
//<![CDATA[
jQuery.menu_expand({ menuItem: '.wiki' });
//]]>
</script>
    
    <div class="" id="content">
      
      <div class="contextual">









<a href="http://www.cruisecontrolnet.org/projects/ccnet/wiki/NAnt_Task/history" class="icon icon-history">History</a>
</div>

<p class="breadcrumb"><a href="Wiki.html">Wiki</a> &#187; <a href="Configuration.html">Configuration</a> &#187; <a href="ConfiguringTheServer.html">ConfiguringTheServer</a> &#187; <a href="Project_Configuration_Block.html">Project Configuration Block</a> &#187; <a href="Task_And_Publisher_Blocks.html">Task And Publisher Blocks</a> &#187; </p>



<div class="wiki">
  <a name="NAnt-Task"></a>
<h1 >NAnt Task<a href="#NAnt-Task" class="wiki-anchor">&para;</a></h1>


	<p>Runs a NAnt script.</p>


	<p><strong>tip</strong></p>


	<p>See <a href="Using_CruiseControlNET_with_NAnt.html" class="wiki-page new">Using CruiseControl.NET with NAnt</a> for more information on working with NAnt and CruiseControl.Net.</p>


	<p><strong>tip</strong></p>


	<p>To see build progress information in the CCNet 1.5 WebDashboard remove any listener arguments from &lt;buildArgs&gt; and leave the &lt;listener&gt; property on the default value.</p>


	<a name="Version"></a>
<h2 >Version<a href="#Version" class="wiki-anchor">&para;</a></h2>


	<p>Available from version 1.0</p>


	<a name="Examples"></a>
<h2 >Examples<a href="#Examples" class="wiki-anchor">&para;</a></h2>


	<p><strong>Minimalist example</strong><br /><pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;nant</span> <span class="tag">/&gt;</span></span></code></pre></p>


	<p><strong>Full example</strong><br /><pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="tag">&lt;nant&gt;</span>
<span class="line-numbers"> 2</span>  <span class="tag">&lt;executable&gt;</span>c:\fromcvs\myrepo\myproject\tools\nant\nant.exe<span class="tag">&lt;/executable&gt;</span>
<span class="line-numbers"> 3</span>  <span class="tag">&lt;baseDirectory&gt;</span>c:\fromcvs\myrepo\myproject<span class="tag">&lt;/baseDirectory&gt;</span>
<span class="line-numbers"> 4</span>  <span class="tag">&lt;buildArgs&gt;</span>-D:cvs.executable=c:\putty\cvswithplinkrsh.bat<span class="tag">&lt;/buildArgs&gt;</span>
<span class="line-numbers"> 5</span>  <span class="tag">&lt;nologo&gt;</span>false<span class="tag">&lt;/nologo&gt;</span>
<span class="line-numbers"> 6</span>  <span class="tag">&lt;buildFile&gt;</span>cruise.build<span class="tag">&lt;/buildFile&gt;</span>
<span class="line-numbers"> 7</span>  <span class="tag">&lt;logger&gt;</span>My.Other.XmlLogger<span class="tag">&lt;/logger&gt;</span>
<span class="line-numbers"> 8</span>  <span class="tag">&lt;targetList&gt;</span>
<span class="line-numbers"> 9</span>    <span class="tag">&lt;target&gt;</span>run<span class="tag">&lt;/target&gt;</span>
<span class="line-numbers"><strong>10</strong></span>  <span class="tag">&lt;/targetList&gt;</span>
<span class="line-numbers">11</span>  <span class="tag">&lt;buildTimeoutSeconds&gt;</span>1200<span class="tag">&lt;/buildTimeoutSeconds&gt;</span>
<span class="line-numbers">12</span><span class="tag">&lt;/nant&gt;</span></span></code></pre></p>


	<a name="Configuration-Elements"></a>
<h2 >Configuration Elements<a href="#Configuration-Elements" class="wiki-anchor">&para;</a></h2>


	<table>
		<tr>
			<td> <strong>Element</strong> </td>
			<td> <strong>Description</strong> </td>
			<td> <strong>Type</strong> </td>
			<td> <strong>Required</strong> </td>
			<td> <strong>Default</strong> </td>
			<td> <strong>Version</strong> </td>
		</tr>
		<tr>
			<td> buildArgs </td>
			<td> Any arguments to pass through to NAnt (e.g to specify build properties).   </td>
			<td> String </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> buildFile </td>
			<td> The name of the build file to run, relative to the baseDirectory.   </td>
			<td> String </td>
			<td> No </td>
			<td> Default build field in the working directory </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> buildTimeoutSeconds </td>
			<td> The maximum number of seconds that the build may take.  If the build process takes longer than this period, it will be killed. Specify this value as zero to disable process timeouts.   </td>
			<td> Int32 </td>
			<td> No </td>
			<td> 600 </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> baseDirectory </td>
			<td> The directory to run the NAnt process in. If relative, is a subdirectory of the Project Working Directory.   </td>
			<td> String </td>
			<td> No </td>
			<td> Project working directory </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> description </td>
			<td> Description used for the visualisation of the buildstage, if left empty the process name will be shown.   </td>
			<td> String </td>
			<td> No </td>
			<td> The task/publisher name. </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> dynamicValues </td>
			<td> The dynamic values to use for the task.   </td>
			<td> <a href="Dynamic_Values.html" class="wiki-page">Dynamic Values</a> array </td>
			<td> No </td>
			<td> <em>None</em> </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> environment </td>
			<td>   A set of environment variables set for commands that are executed.  <br />  Each variable should be specified as <pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">value</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></span></code></pre><br />.   </td>
			<td> <a href="Environment_Variable.html" class="wiki-page">Environment Variable</a> array </td>
			<td> No </td>
			<td>  </td>
			<td>  </td>
		</tr>
		<tr>
			<td> executable </td>
			<td> The path of the version of nant.exe you want to run. If this is relative, then must be relative to either (a) the base directory, (b) the CCNet Server application, or (c) if the path doesn't contain any directory details then can be available in the system or application's 'path' environment variable   </td>
			<td> String </td>
			<td> No </td>
			<td> nant </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> listener </td>
			<td> The NAnt listener to use.   </td>
			<td> String </td>
			<td> No </td>
			<td> NAnt.Core.DefaultLogger </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> logger </td>
			<td> The NAnt logger to use.   </td>
			<td> String </td>
			<td> No </td>
			<td> NAnt.Core.XmlLogger </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> nologo </td>
			<td> Whether to use the -nologo argument when calling NAnt.   </td>
			<td> Boolean </td>
			<td> No </td>
			<td> true </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> priority </td>
			<td> The priority class of the spawned process.   </td>
			<td> String - one of: <pre>
* Normal
* Idle
* High
* RealTime
* BelowNormal
* AboveNormal</pre> </td>
			<td> No </td>
			<td> Normal </td>
			<td> 1.5 </td>
		</tr>
		<tr>
			<td> targetList </td>
			<td> A list of targets to be called. CruiseControl.NET does not call NAnt once for each target, it uses the NAnt feature of being able to specify multiple targets.   </td>
			<td> String array </td>
			<td> No </td>
			<td> Default build target </td>
			<td> 1.0 </td>
		</tr>
	</table>




	<a name="Notes"></a>
<h2 >Notes<a href="#Notes" class="wiki-anchor">&para;</a></h2>


	<a name="NAnt-output-in-Xml"></a>
<h4 >NAnt output in Xml<a href="#NAnt-output-in-Xml" class="wiki-anchor">&para;</a></h4>


	<p>CruiseControl.NET expects NAnt to generate its output as Xml so that the build results can be parsed and rendered appropriately. To accomplish this, CruiseControl.NET will, by default, launch NAnt using the "-logger:NAnt.Core.XmlLogger" argument. If you want to override this behaviour, specify the logger property in the NAntBuilder configuration in the ccnet.config file. If this element is specified but is empty then NAnt will be started with the default logger (though this may cause some problems for CCNet). It is also possible to instruct NAnt to log its output to an Xml file and then merge the file into the build using the File Merge Task.</p>


	<p><strong>warning</strong></p>


	<p>The configuration of which NAnt logger to use was orginally specified in the ccnet.exe.config file. This has now been deprecated, and the "NAnt.Logger" element in the &lt;appSettings&gt; section can now be removed.</p>


	<a name="NUnit-and-NAnt"></a>
<h4 >NUnit and NAnt<a href="#NUnit-and-NAnt" class="wiki-anchor">&para;</a></h4>


	<p>CruiseControl.NET uses xsl to process the build log and produce html for display on the web page. Since xml is so easy to parse the nunit2 task in NAnt can produce xml output. The tasks must be configured to do that in order for test results to show up on the web page. Typically this is done by adding a formatter element to the nunit2 task and setting the type to be "Xml". Additionally the usefile flag of the formatter element must be set to "false". If it isn't the nunit2 task will try and save the output to a file and not write it out to the build log.</p>


	<p><a name="Integration-Properties"></a>
<h1 >Integration Properties<a href="#Integration-Properties" class="wiki-anchor">&para;</a></h1>


	<table>
		<tr>
			<td> <strong>Label</strong> </td>
			<td> <strong>Description</strong> </td>
			<td> <strong>Example</strong> </td>
			<td> <strong>Version</strong> </td>
		</tr>
		<tr>
			<td> CCNetArtifactDirectory </td>
			<td> The <a href="Project_Configuration_Block.html#artifactDirectory" class="wiki-page">project artifact directory</a> (as an absolute path) </td>
			<td> C:\Program Files\CruiseControl.NET\Server\MyProject\Artifacts </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetBuildCondition </td>
			<td> The condition used to trigger the build, indicating if the build was triggered by new modifications or if it was forced.  Legal values are: <em>IfModificationExists</em> or <em>ForceBuild</em> </td>
			<td> ForceBuild </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetBuildDate </td>
			<td> The date of the build (in yyyy-MM-dd format) </td>
			<td> 2005-08-10 </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetBuildTime </td>
			<td> The time of the start of the build (in HH:mm:ss format) </td>
			<td> 08:45:12 </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetFailureTasks </td>
			<td> The list of name of tasks which have contributed to the current build failure. When the description of the task is filled in, this will be shown. </td>
			<td> Exec Task </td>
			<td> 1.7 </td>
		</tr>
		<tr>
			<td> CCNetFailureUsers </td>
			<td> The list of users who have contributed modifications to a sequence of builds that has failed. </td>
			<td> John, Smith  </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetIntegrationStatus </td>
			<td> The status of the current integration. Could be Success, Failure, Exception or Unknown </td>
			<td> Success </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetLabel </td>
			<td> The label used to identify the CCNet build.  This label is generated by the CCNet labeller. </td>
			<td> 1.0.2.120 </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetLastIntegrationStatus </td>
			<td> The status of the previous integration. Could be Success, Failure, Exception or Unknown </td>
			<td> Success </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetListenerFile </td>
			<td> <a href="Viewing_build_progress.html" class="wiki-page"> View build progress : task output that shows how far the build is</a> </td>
			<td> c:\Project\Artifact\listener.xml </td>
			<td> 1.4.0 </td>
		</tr>
		<tr>
			<td> CCNetModifyingUsers  </td>
			<td> The list of users who have contributed to the current build only  </td>
			<td> Smith </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetNumericLabel </td>
			<td> Contains the label as an integer if conversion is possible, otherwise zero. </td>
			<td> 1 </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetProject </td>
			<td> The name of the CCNet project that is being integrated. </td>
			<td> MyProject </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetProjectUrl </td>
			<td> The URL where the project is located </td>
			<td> <a class="external" href="http://myhost/ccnet/server/">http://myhost/ccnet/server/</a> </td>
			<td> 1.0 </td>
		</tr>
		<tr>
			<td> CCNetRequestSource </td>
			<td> The source of the integration request; this will generally be the name of the trigger that raised the request. </td>
			<td> IntervalTrigger </td>
			<td> 1.1.0 </td>
		</tr>
		<tr>
			<td> CCNetUser </td>
			<td> The user who forced the build. If security is off, or the build is not forced, then this will not be set. </td>
			<td> John Doe </td>
			<td> 1.5.0 </td>
		</tr>
		<tr>
			<td> CCNetWorkingDirectory </td>
			<td> The <a href="Project_Configuration_Block.html#workingDirectory" class="wiki-page">project working directory</a> (as an absolute path) </td>
			<td> C:\Program Files\CruiseControl.NET\Server\MyProject\WorkingDirectory </td>
			<td> 1.0 </td>
		</tr>
	</table><pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;target</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">test.unit</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">depends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">compile</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">runs unit tests</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers">2</span>  <span class="tag">&lt;nunit2&gt;</span>
<span class="line-numbers">3</span>    <span class="tag">&lt;formatter</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Xml</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">usefile</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">4</span>    <span class="tag">&lt;test</span> <span class="attribute-name">assemblyname</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.dir}\${core.dll}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">fork</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">5</span>    <span class="tag">&lt;test</span> <span class="attribute-name">assemblyname</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${build.dir}\${console.exe}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">fork</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">6</span>  <span class="tag">&lt;/nunit2&gt;</span>
<span class="line-numbers">7</span><span class="tag">&lt;/target&gt;</span></span></code></pre></p>


	<p>It would be pretty tedious for developers to read the xml output when they run the build locally. Define a property for the build output type and set it to "Plain" and use the property in the formatter element..</p>


<pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;build&gt;</span>
<span class="line-numbers">2</span>  <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">outputType</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">Plain</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">3</span>  <span class="comment">&lt;!-- ... --&gt;</span>
<span class="line-numbers">4</span>  <span class="tag">&lt;formatter</span> <span class="attribute-name">type</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${outputType}</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">usefile</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">5</span>  <span class="comment">&lt;!-- ... --&gt;</span>
<span class="line-numbers">6</span><span class="tag">&lt;/build&gt;</span></span></code></pre>

	<p>Then in the ccnet.config file pass in a different value for outputType.</p>


<pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers">1</span><span class="tag">&lt;nant&gt;</span>
<span class="line-numbers">2</span>  <span class="comment">&lt;!-- ... --&gt;</span>
<span class="line-numbers">3</span>  <span class="tag">&lt;buildArgs&gt;</span>&quot;-DoutputType=Xml&quot;<span class="tag">&lt;/buildArgs&gt;</span>
<span class="line-numbers">4</span>  <span class="comment">&lt;!-- ... --&gt;</span>
<span class="line-numbers">5</span><span class="tag">&lt;/nant&gt;</span></span></code></pre>

	<a name="Accessing-CruiseControlNET-build-labels-in-NAnt"></a>
<h4 >Accessing CruiseControl.NET build labels in NAnt<a href="#Accessing-CruiseControlNET-build-labels-in-NAnt" class="wiki-anchor">&para;</a></h4>


	<p>CCNet will pass the current build label to NAnt via the NAnt property CCNetLabel. This means that you can access use this property to, for example, archive the newly built assemblies in a folder with the same name as the build label (this is what we do on CCNetLive. Here's an example NAnt script demonstrating how to do this:</p>


<pre><code class="xml syntaxhl"><span class="CodeRay"><span class="line-numbers"> 1</span><span class="tag">&lt;target</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dist.publish</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">depends</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dist</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>  <span class="tag">&lt;ifnot</span> <span class="attribute-name">propertyexists</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CCNetLabel</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;fail</span> <span class="attribute-name">message</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">CCNetLabel property not set, so can't create labelled distribution files</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 4</span>  <span class="tag">&lt;/ifnot&gt;</span>
<span class="line-numbers"> 5</span>  <span class="tag">&lt;property</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">publish.dir</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">value</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">D:\download-area\CCNet-Builds\${CCNetLabel}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 6</span>  <span class="tag">&lt;mkdir</span> <span class="attribute-name">dir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${publish.dir}</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"> 7</span>  <span class="tag">&lt;copy</span> <span class="attribute-name">todir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${publish.dir}</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;fileset</span> <span class="attribute-name">basedir</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">dist</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 9</span>      <span class="tag">&lt;includes</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">*</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers"><strong>10</strong></span>    <span class="tag">&lt;/fileset&gt;</span>
<span class="line-numbers">11</span>  <span class="tag">&lt;/copy&gt;</span>
<span class="line-numbers">12</span><span class="tag">&lt;/target&gt;</span></span></code></pre>

	<a name="Automatically-Generated"></a>
<h4 >Automatically Generated<a href="#Automatically-Generated" class="wiki-anchor">&para;</a></h4>


	<p>Documentation generated on Sunday, 1 Sep 2013 at 7:07:21 AM</p>
</div>














      
      <div style="clear:both;">&nbsp;</div>
    </div>
  </div>

  <div id="footer">
    <div class="bgl"><div class="bgr">
        Powered by <a href="https://www.chiliproject.org/">ChiliProject</a>
      </div></div>
  </div>

  <div id="ajax-indicator" style="display:none;"><span>Loading...</span></div>
  <div id="dialog-window" style="display:none;"></div>

</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-371146-15']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>

<!-- Mirrored from www.cruisecontrolnet.org/projects/ccnet/wiki/NAnt_Task by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 01 Sep 2013 07:36:46 GMT -->
</html>
